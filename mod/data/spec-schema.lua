local mod = ...

local perks = mod.load('mod/data/perks-by-alias')

local function specTimestamp()
	return os.date('%d.%m.%Y %H:%M:%S')
end

local function perkDescription(_, node)
	if perks then
		local perk = perks[node.name]
		
		return ('Max: %s / %s'):format(perk.trait and '0+' or perk.max, perk.desc)
	end
end

return {
	comment = specTimestamp,
	children = {
		{
			name = "Character",
			children = {
				{ name = "Level" },
				{ name = "StreetCred" },
				{
					name = "Attributes",
					margin = true,
					children = {
						{ name = "Body" },
						{ name = "Reflexes" },
						{ name = "TechnicalAbility" },
						{ name = "Intelligence" },
						{ name = "Cool" },
					},
				},
				{
					name = "Skills",
					margin = true,
					children = {
						{ name = "Athletics" },
						{ name = "Annihilation" },
						{ name = "StreetBrawler" },
						{ name = "Assault" },
						{ name = "Handguns" },
						{ name = "Blades" },
						{ name = "Crafting" },
						{ name = "Engineering" },
						{ name = "BreachProtocol" },
						{ name = "Quickhacking" },
						{ name = "Stealth" },
						{ name = "ColdBlood" },
					},
				},
				{
					name = "Progression",
					scope = "Progression",
					nullable = true,
					margin = true,
					children = {
						{ name = "Athletics" },
						{ name = "Annihilation" },
						{ name = "StreetBrawler" },
						{ name = "Assault" },
						{ name = "Handguns" },
						{ name = "Blades" },
						{ name = "Crafting" },
						{ name = "Engineering" },
						{ name = "BreachProtocol" },
						{ name = "Quickhacking" },
						{ name = "Stealth" },
						{ name = "ColdBlood" },
					},
				},
				{
					name = "Perks",
					scope = "Perks",
					nullable = true,
					margin = true,
					children = {
                        {
                            name = "Athletics",
                            scope = "Perks",
                            children = {
                                { name = "Regeneration", comment = perkDescription },
                                { name = "PackMule", comment = perkDescription },
                                { name = "SoftOnYourFeet", comment = perkDescription },
                                { name = "TrueGrit", comment = perkDescription },
                                { name = "Epimorphosis", comment = perkDescription },
                                { name = "Wolverine", comment = perkDescription },
                                { name = "SteelAndChrome", comment = perkDescription },
                                { name = "Gladiator", comment = perkDescription },
                                { name = "DividedAttention", comment = perkDescription },
                                { name = "Multitasker", comment = perkDescription },
                                { name = "LikeAButterfly", comment = perkDescription },
                                { name = "Transporter", comment = perkDescription },
                                { name = "TenaciousV", comment = perkDescription },
                                { name = "Invincible", comment = perkDescription },
                                { name = "HumanShield", comment = perkDescription },
                                { name = "Marathoner", comment = perkDescription },
                                { name = "DogOfWar", comment = perkDescription },
                                { name = "CardioCure", comment = perkDescription },
                                { name = "SteelShell", comment = perkDescription },
                                { name = "TheRock", comment = perkDescription },
                                { name = "Indestructible", comment = perkDescription },
                                { name = "HardMotherfucker", comment = perkDescription },
                            },
                        },
                        {
                            name = "Annihilation",
                            scope = "Perks",
                            children = {
                                { name = "HailOfBullets", comment = perkDescription },
                                { name = "PumpItLouder", comment = perkDescription },
                                { name = "InYourFace", comment = perkDescription },
                                { name = "Bloodrush", comment = perkDescription },
                                { name = "DeadCenter", comment = perkDescription },
                                { name = "Bulldozer", comment = perkDescription },
                                { name = "Mongoose", comment = perkDescription },
                                { name = "MomentumShift", comment = perkDescription },
                                { name = "Massacre", comment = perkDescription },
                                { name = "SkeetShooter", comment = perkDescription },
                                { name = "HeavyLead", comment = perkDescription },
                                { name = "Unstoppable", comment = perkDescription },
                                { name = "Manic", comment = perkDescription },
                                { name = "SpeedDemon", comment = perkDescription },
                                { name = "BurnBabyBurn", comment = perkDescription },
                                { name = "HitTheDeck", comment = perkDescription },
                                { name = "PoppinOff", comment = perkDescription },
                                { name = "Biathlete", comment = perkDescription },
                                { name = "Bloodbath", comment = perkDescription },
                            },
                        },
                        {
                            name = "StreetBrawler",
                            scope = "Perks",
                            children = {
                                { name = "Flurry", comment = perkDescription },
                                { name = "CrushingBlows", comment = perkDescription },
                                { name = "Juggernaut", comment = perkDescription },
                                { name = "Dazed", comment = perkDescription },
                                { name = "Rush", comment = perkDescription },
                                { name = "EfficientBlows", comment = perkDescription },
                                { name = "HumanFortress", comment = perkDescription },
                                { name = "OpportuneStrike", comment = perkDescription },
                                { name = "Payback", comment = perkDescription },
                                { name = "Reinvigorate", comment = perkDescription },
                                { name = "BreathingSpace", comment = perkDescription },
                                { name = "Relentless", comment = perkDescription },
                                { name = "Frenzy", comment = perkDescription },
                                { name = "Thrash", comment = perkDescription },
                                { name = "BidingTime", comment = perkDescription },
                                { name = "Unshakable", comment = perkDescription },
                                { name = "Guerrilla", comment = perkDescription },
                            },
                        },
                        {
                            name = "Assault",
                            scope = "Perks",
                            children = {
                                { name = "Bulletjock", comment = perkDescription },
                                { name = "EagleEye", comment = perkDescription },
                                { name = "CoveringKillshot", comment = perkDescription },
                                { name = "TooCloseForComfort", comment = perkDescription },
                                { name = "Bullseye", comment = perkDescription },
                                { name = "Executioner", comment = perkDescription },
                                { name = "ShootReloadRepeat", comment = perkDescription },
                                { name = "DuckHunter", comment = perkDescription },
                                { name = "NervesOfSteel", comment = perkDescription },
                                { name = "FeelTheFlow", comment = perkDescription },
                                { name = "TrenchWarfare", comment = perkDescription },
                                { name = "HuntersHands", comment = perkDescription },
                                { name = "SkullSkipper", comment = perkDescription },
                                { name = "NamedBullets", comment = perkDescription },
                                { name = "Bunker", comment = perkDescription },
                                { name = "RecoilWrangler", comment = perkDescription },
                                { name = "InPerspective", comment = perkDescription },
                                { name = "LongShot", comment = perkDescription },
                                { name = "SavageStoic", comment = perkDescription },
                                { name = "Punisher", comment = perkDescription },
                            },
                        },
                        {
                            name = "Handguns",
                            scope = "Perks",
                            children = {
                                { name = "Gunslinger", comment = perkDescription },
                                { name = "HighNoon", comment = perkDescription },
                                { name = "RioBravo", comment = perkDescription },
                                { name = "Desperado", comment = perkDescription },
                                { name = "OnTheFly", comment = perkDescription },
                                { name = "LongShotDropPop", comment = perkDescription },
                                { name = "SteadyHand", comment = perkDescription },
                                { name = "OKCorral", comment = perkDescription },
                                { name = "VanishingPoint", comment = perkDescription },
                                { name = "AFistfulOfEurodollars", comment = perkDescription },
                                { name = "FromHeadToToe", comment = perkDescription },
                                { name = "GrandFinale", comment = perkDescription },
                                { name = "Acrobat", comment = perkDescription },
                                { name = "AttritionalFire", comment = perkDescription },
                                { name = "WildWest", comment = perkDescription },
                                { name = "SnowballEffect", comment = perkDescription },
                                { name = "Westworld", comment = perkDescription },
                                { name = "LeadSponge", comment = perkDescription },
                                { name = "Brainpower", comment = perkDescription },
                                { name = "TheGoodTheBadAndTheUgly", comment = perkDescription },
                            },
                        },
                        {
                            name = "Blades",
                            scope = "Perks",
                            children = {
                                { name = "StingLikeABee", comment = perkDescription },
                                { name = "RoaringWaters", comment = perkDescription },
                                { name = "CrimsonDance", comment = perkDescription },
                                { name = "SlowAndSteady", comment = perkDescription },
                                { name = "FlightOfTheSparrow", comment = perkDescription },
                                { name = "OffensiveDefense", comment = perkDescription },
                                { name = "StuckPig", comment = perkDescription },
                                { name = "ShiftingSands", comment = perkDescription },
                                { name = "BlessedBlade", comment = perkDescription },
                                { name = "UnbrokenSpirit", comment = perkDescription },
                                { name = "Bloodlust", comment = perkDescription },
                                { name = "FloatLikeAButterfly", comment = perkDescription },
                                { name = "FieryBlast", comment = perkDescription },
                                { name = "JudgeJuryAndExecutioner", comment = perkDescription },
                                { name = "CrimsonTide", comment = perkDescription },
                                { name = "Deathbolt", comment = perkDescription },
                                { name = "DragonStrike", comment = perkDescription },
                            },
                        },
                        {
                            name = "Crafting",
                            scope = "Perks",
                            children = {
                                { name = "Mechanic", comment = perkDescription },
                                { name = "TrueCraftsman", comment = perkDescription },
                                { name = "Scrapper", comment = perkDescription },
                                { name = "Workshop", comment = perkDescription },
                                { name = "Innovation", comment = perkDescription },
                                { name = "Sapper", comment = perkDescription },
                                { name = "FieldTechnician", comment = perkDescription },
                                { name = "TwoHundredEfficiency", comment = perkDescription },
                                { name = "ExNihilo", comment = perkDescription },
                                { name = "EfficientUpgrades", comment = perkDescription },
                                { name = "GreaseMonkey", comment = perkDescription },
                                { name = "CostOptimization", comment = perkDescription },
                                { name = "LetThereBeLight", comment = perkDescription },
                                { name = "WasteNotWantNot", comment = perkDescription },
                                { name = "Tuneup", comment = perkDescription },
                                { name = "EdgerunnerArtisan", comment = perkDescription },
                                { name = "CuttingEdge", comment = perkDescription },
                                { name = "CrazyScience", comment = perkDescription },
                            },
                        },
                        {
                            name = "Engineering",
                            scope = "Perks",
                            children = {
                                { name = "MechLooter", comment = perkDescription },
                                { name = "BlastShielding", comment = perkDescription },
                                { name = "DrawTheLine", comment = perkDescription },
                                { name = "Grenadier", comment = perkDescription },
                                { name = "Shrapnel", comment = perkDescription },
                                { name = "Bladerunner", comment = perkDescription },
                                { name = "UpTo11", comment = perkDescription },
                                { name = "LockAndLoad", comment = perkDescription },
                                { name = "BiggerBooms", comment = perkDescription },
                                { name = "Tesla", comment = perkDescription },
                                { name = "PlayTheAngles", comment = perkDescription },
                                { name = "bercharge", comment = perkDescription },
                                { name = "Insulation", comment = perkDescription },
                                { name = "GunWhisperer", comment = perkDescription },
                                { name = "FuckAllWalls", comment = perkDescription },
                                { name = "CantTouchThis", comment = perkDescription },
                                { name = "LicketySplit", comment = perkDescription },
                                { name = "Jackpot", comment = perkDescription },
                                { name = "Superconductor", comment = perkDescription },
                                { name = "Revamp", comment = perkDescription },
                            },
                        },
                        {
                            name = "BreachProtocol",
                            scope = "Perks",
                            children = {
                                { name = "BigSleep", comment = perkDescription },
                                { name = "MassVulnerability", comment = perkDescription },
                                { name = "AlmostIn", comment = perkDescription },
                                { name = "AdvancedDatamine", comment = perkDescription },
                                { name = "MassVulnerabilityResistances", comment = perkDescription },
                                { name = "ExtendedNetworkInterface", comment = perkDescription },
                                { name = "TurretShutdown", comment = perkDescription },
                                { name = "DatamineMastermind", comment = perkDescription },
                                { name = "TotalRecall", comment = perkDescription },
                                { name = "DatamineVirtuoso", comment = perkDescription },
                                { name = "TurretTamer", comment = perkDescription },
                                { name = "Efficiency", comment = perkDescription },
                                { name = "CloudCache", comment = perkDescription },
                                { name = "MassVulnerabilityQuickhacks", comment = perkDescription },
                                { name = "TotalerRecall", comment = perkDescription },
                                { name = "Hackathon", comment = perkDescription },
                                { name = "HeadStart", comment = perkDescription },
                                { name = "Compression", comment = perkDescription },
                                { name = "BufferOptimization", comment = perkDescription },
                                { name = "Transmigration", comment = perkDescription },
                            },
                        },
                        {
                            name = "Quickhacking",
                            scope = "Perks",
                            children = {
                                { name = "Biosynergy", comment = perkDescription },
                                { name = "Bloodware", comment = perkDescription },
                                { name = "Forgetmenot", comment = perkDescription },
                                { name = "ISpy", comment = perkDescription },
                                { name = "HackersManual", comment = perkDescription },
                                { name = "DaisyChain", comment = perkDescription },
                                { name = "WeakLink", comment = perkDescription },
                                { name = "SignalSupport", comment = perkDescription },
                                { name = "SubliminalMessage", comment = perkDescription },
                                { name = "Mnemonic", comment = perkDescription },
                                { name = "Diffusion", comment = perkDescription },
                                { name = "SchoolOfHardHacks", comment = perkDescription },
                                { name = "Plague", comment = perkDescription },
                                { name = "CriticalError", comment = perkDescription },
                                { name = "HackerOverlord", comment = perkDescription },
                                { name = "Anamnesis", comment = perkDescription },
                                { name = "Optimization", comment = perkDescription },
                                { name = "BartmossLegacy", comment = perkDescription },
                                { name = "MasterRAMLiberator", comment = perkDescription },
                            },
                        },
                        {
                            name = "Stealth",
                            scope = "Perks",
                            children = {
                                { name = "SilentAndDeadly", comment = perkDescription },
                                { name = "CrouchingTiger", comment = perkDescription },
                                { name = "HiddenDragon", comment = perkDescription },
                                { name = "DaggerDealer", comment = perkDescription },
                                { name = "StrikeFromTheShadows", comment = perkDescription },
                                { name = "Assassin", comment = perkDescription },
                                { name = "LegUp", comment = perkDescription },
                                { name = "Sniper", comment = perkDescription },
                                { name = "Cutthroat", comment = perkDescription },
                                { name = "CleanWork", comment = perkDescription },
                                { name = "AggressiveAntitoxins", comment = perkDescription },
                                { name = "StunningBlows", comment = perkDescription },
                                { name = "Ghost", comment = perkDescription },
                                { name = "FromTheShadows", comment = perkDescription },
                                { name = "LookingSharp", comment = perkDescription },
                                { name = "Rattlesnake", comment = perkDescription },
                                { name = "VenomousFangs", comment = perkDescription },
                                { name = "RestorativeShadows", comment = perkDescription },
                                { name = "HastyRetreat", comment = perkDescription },
                                { name = "Juggler", comment = perkDescription },
                                { name = "CriticalAntidote", comment = perkDescription },
                                { name = "CheatDeath", comment = perkDescription },
                                { name = "CorrosivePoison", comment = perkDescription },
                                { name = "JeepersCreepers", comment = perkDescription },
                                { name = "Toxicology", comment = perkDescription },
                            },
                        },
                        {
                            name = "ColdBlood",
                            scope = "Perks",
                            children = {
                                { name = "ColdBlood", comment = perkDescription },
                                { name = "WillToSurvive", comment = perkDescription },
                                { name = "BloodBrawl", comment = perkDescription },
                                { name = "EasyOut", comment = perkDescription },
                                { name = "FrostySynapses", comment = perkDescription },
                                { name = "DefensiveClotting", comment = perkDescription },
                                { name = "RapidBloodflow", comment = perkDescription },
                                { name = "Coolagulant", comment = perkDescription },
                                { name = "FrozenPrecision", comment = perkDescription },
                                { name = "Predator", comment = perkDescription },
                                { name = "IcyVeins", comment = perkDescription },
                                { name = "QuickTransfer", comment = perkDescription },
                                { name = "PainIsAnIllusion", comment = perkDescription },
                                { name = "ColdAndCalculating", comment = perkDescription },
                                { name = "CriticalCondition", comment = perkDescription },
                                { name = "ColdestBlood", comment = perkDescription },
                                { name = "Immunity", comment = perkDescription },
                                { name = "Bloodswell", comment = perkDescription },
                                { name = "Merciless", comment = perkDescription },
                            },
                        },
					},
				},
				{
					name = "PerkShards",
					scope = "PerkShards",
					margin = true,
				},
			},
		},
		{
			name = "Inventory",
			aliases = {
				"Equipment",
				"Cyberware",
				"Backpack",
			},
			margin = true,
			spacing = true,
			table = {
				{
					name = "id",
					inline = true,
					format = {
						number = "0x%016X",
					},
					children = {
						{ name = "hash", format = "0x%08X" },
						{ name = "length" }
					}
				},
				{ name = "seed" },
				{ name = "upgrade" },
				{
					name = "slots",
					table = {
						{ name = "slot" },
						{
							name = "id",
							inline = true,
							format = {
								number = "0x%016X",
							},
							children = {
								{ name = "hash", format = "0x%08X" },
								{ name = "length" }
							}
						},
						{ name = "seed" },
						{ name = "upgrade" },
					}
				},
				{ name = "equip" },
				{ name = "quest" },
				{ name = "qty" },
			}
		},
		{
			name = "Crafting",
			margin = true,
			children = {
				{
					name = "Components",
					children = {
						{ name = "CommonItem" },
						{ name = "UncommonItem" },
						{ name = "RareItem" },
						{ name = "RareUpgrade" },
						{ name = "EpicItem" },
						{ name = "EpicUpgrade" },
						{ name = "LegendaryItem" },
						{ name = "LegendaryUpgrade" },
						{ name = "UncommonQuickhack" },
						{ name = "RareQuickhack" },
						{ name = "EpicQuickhack" },
						{ name = "LegenaryQuickhack" },
					}
				},
				{
					name = "Recipes",
					format = {
						number = "0x%010X"
					}
				},
			},
		},
		{
			name = "Vehicles",
			margin = true,
		},
	}
}